#!/bin/bash

# Video Processing Dashboard App Launcher
# This is the executable for the macOS app bundle

# Get the directory where this script is located
SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"

# Navigate to the project root (3 levels up from Contents/MacOS/)
PROJECT_DIR="$(cd "$SCRIPT_DIR/../../.." && pwd)"

# Change to the project directory
cd "$PROJECT_DIR"

# Kill any existing processes
pkill -f "python3.*app.py" 2>/dev/null || true
pkill -f "python3.*launch_dashboard" 2>/dev/null || true
sleep 1

# Check if Python is available
if ! command -v python3 &> /dev/null; then
    osascript -e 'display dialog "Python 3 is not installed or not in PATH.\n\nPlease install Python 3 and try again." with title "Video Processing Dashboard" buttons {"OK"} default button "OK" with icon stop'
    exit 1
fi

# Launch the dashboard
python3 launch_dashboard.py 